{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "LexAI Frontend - Legal Case Analyzer with Tamil/English Support",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Create document upload interface accepting PDF and DOCX files",
      "acceptanceCriteria": [
        "User can select and upload PDF files",
        "User can select and upload DOCX files",
        "Upload interface shows file name and size after selection",
        "Clear error messages for unsupported file types"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/DocumentUpload.tsx",
          "operation": "create",
          "description": "Create DocumentUpload component with file input that accepts .pdf and .docx files. Use the blob-storage component to handle file uploads via ExternalBlob.fromBytes() with upload progress tracking. Display selected file name and size, validate file types, and show error messages for invalid uploads. Verify the blob-storage component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/AnalysisPage.tsx",
          "operation": "create",
          "description": "Create main analysis page that integrates DocumentUpload component, providing the primary interface for legal document analysis workflow"
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Add route for /analysis path pointing to AnalysisPage component, establishing navigation to the document upload interface"
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Implement language toggle between English and Tamil throughout the interface",
      "acceptanceCriteria": [
        "Toggle button switches between English and Tamil labels",
        "All UI text updates when language is changed",
        "Language preference persists during session",
        "Toggle is visible and accessible on all screens"
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/LanguageContext.tsx",
          "operation": "create",
          "description": "Create React context for language state management with 'en' and 'ta' options, sessionStorage persistence, and translation lookup function supporting both English and Tamil text throughout the application"
        },
        {
          "path": "frontend/src/components/LanguageToggle.tsx",
          "operation": "create",
          "description": "Create LanguageToggle component with button displaying English/தமிழ் labels, consuming LanguageContext to switch between languages, with visual feedback for active language"
        },
        {
          "path": "frontend/src/locales/translations.ts",
          "operation": "create",
          "description": "Define translation dictionaries for English and Tamil containing all UI labels, messages, and text used throughout the application including upload interface, analysis results, disclaimers, and error messages"
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wrap application with LanguageContext provider and add LanguageToggle component to the app header/navigation area, making it visible and accessible on all screens"
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Create text input field for legal questions in Tamil or English",
      "acceptanceCriteria": [
        "Text input accepts both Tamil and English characters",
        "Input field is clearly labeled",
        "Submit button triggers analysis",
        "Input validation prevents empty submissions"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/QuestionInput.tsx",
          "operation": "create",
          "description": "Create QuestionInput component with textarea accepting Unicode characters for Tamil and English input, labeled appropriately using LanguageContext translations, with submit button triggering analysis callback and validation preventing empty submissions"
        },
        {
          "path": "frontend/src/pages/AnalysisPage.tsx",
          "operation": "modify",
          "description": "Integrate QuestionInput component into AnalysisPage, wiring submission handler to collect question text and initiate backend analysis request via getUserData/saveUserData methods"
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Add voice input capability converting Tamil or English speech to text",
      "acceptanceCriteria": [
        "Microphone button starts voice recording",
        "Visual feedback shows recording in progress",
        "Recorded speech converts to text in input field",
        "Supports both Tamil and English voice input"
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/useVoiceInput.ts",
          "operation": "create",
          "description": "Create custom hook using Web Speech API (SpeechRecognition) to capture voice input, supporting both Tamil ('ta-IN') and English ('en-US') recognition based on LanguageContext, returning transcript text and recording state"
        },
        {
          "path": "frontend/src/components/VoiceInputButton.tsx",
          "operation": "create",
          "description": "Create VoiceInputButton component with microphone icon button, using useVoiceInput hook to start/stop recording, displaying visual feedback during recording (pulsing animation or color change), and passing transcript to parent component"
        },
        {
          "path": "frontend/src/components/QuestionInput.tsx",
          "operation": "modify",
          "description": "Integrate VoiceInputButton into QuestionInput component, populating textarea with voice transcript when recording completes, allowing seamless voice-to-text input for legal questions"
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Display structured legal analysis results with all 11 components",
      "acceptanceCriteria": [
        "All 11 analysis components are displayed in organized sections",
        "Case Summary appears as readable text",
        "Legal Issues, Law Sections, Strong Points, and Weak Points render as lists",
        "Plaintiff and Defendant strengths show as percentages",
        "Risk Assessment displays clearly with appropriate styling",
        "Legal Disclaimer is prominently visible at the bottom"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/AnalysisResults.tsx",
          "operation": "create",
          "description": "Create AnalysisResults component rendering LegalAnalysis interface data in organized sections: Case Summary (text paragraph), Legal Issues (bulleted list), Law Sections (numbered list), Evidence Evaluation (text), Plaintiff/Defendant Strength (percentage displays), Strong Points (bulleted list), Weak Points (bulleted list), Risk Assessment (styled alert/badge), Neutral Opinion (text paragraph), and Legal Disclaimer (prominently styled warning box at bottom)"
        },
        {
          "path": "frontend/src/pages/AnalysisPage.tsx",
          "operation": "modify",
          "description": "Add state management for analysis results and integrate AnalysisResults component to display LegalAnalysis data returned from backend getUserData/saveUserData methods after question submission"
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Visualize plaintiff vs defendant strength percentages with interactive charts",
      "acceptanceCriteria": [
        "Visual chart displays plaintiff and defendant strength percentages",
        "Chart updates dynamically based on analysis results",
        "Chart is responsive and clearly labeled",
        "Chart type is appropriate for percentage comparison (e.g., pie, bar, or donut chart)"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/StrengthChart.tsx",
          "operation": "create",
          "description": "Create StrengthChart component using Recharts library (React-compatible) to display plaintiff and defendant strength percentages as a bar chart or pie chart. Parse percentage strings from LegalAnalysis data, render responsive chart with clear labels, legend, and appropriate colors for plaintiff vs defendant comparison"
        },
        {
          "path": "frontend/src/components/AnalysisResults.tsx",
          "operation": "modify",
          "description": "Integrate StrengthChart component within AnalysisResults, positioning it near the Plaintiff/Defendant Strength sections to provide visual comparison alongside percentage text"
        }
      ]
    },
    {
      "id": "REQ-13",
      "summary": "Display prominent legal disclaimer in all analysis outputs",
      "acceptanceCriteria": [
        "Disclaimer text appears on every analysis result",
        "Disclaimer clearly states limitations of AI analysis",
        "Disclaimer emphasizes probability-based nature of output",
        "Disclaimer recommends consulting legal professionals",
        "Disclaimer is visually distinct and easily readable",
        "Disclaimer is included in JSON response and rendered on frontend"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/LegalDisclaimer.tsx",
          "operation": "create",
          "description": "Create LegalDisclaimer component displaying warning-styled box with disclaimer text from LegalAnalysis.disclaimer field, using alert or banner styling with warning icon, high contrast colors, and prominent typography to ensure visibility and readability"
        },
        {
          "path": "frontend/src/components/AnalysisResults.tsx",
          "operation": "modify",
          "description": "Integrate LegalDisclaimer component at the bottom of AnalysisResults, ensuring it appears prominently after all analysis sections, making it the last element users see in the results display"
        }
      ]
    },
    {
      "id": "REQ-14",
      "summary": "Design professional legal-tech interface with trustworthy visual theme",
      "acceptanceCriteria": [
        "Color scheme conveys professionalism and authority appropriate for legal services",
        "Typography is clear and readable for legal text",
        "Layout provides logical flow from document upload through analysis display",
        "Design builds user trust while maintaining modern aesthetics",
        "Consistent styling across all screens and components"
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Update global styles with professional legal-tech color scheme using deep blues, grays, and gold accents for trust and authority. Define CSS custom properties for primary, secondary, accent colors, professional typography scale with clear hierarchy, and consistent spacing/border-radius values used throughout the application"
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Extend Tailwind theme with custom legal-tech color palette (primary blues, neutral grays, accent gold), professional font family stack prioritizing readability, and custom spacing/sizing utilities that support the structured legal document layout requirements"
        },
        {
          "path": "frontend/src/components/Layout.tsx",
          "operation": "create",
          "description": "Create Layout component establishing consistent page structure with header containing application logo (using frontend/public/assets/generated/logo-scales.dim_256x256.png), LanguageToggle, and navigation, main content area with max-width constraint for readability, and footer with legal disclaimers or credits, maintaining professional aesthetic across all pages"
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wrap all routes with Layout component to ensure consistent professional design structure across the entire application, providing unified header, navigation, and footer on every screen"
        },
        {
          "path": "frontend/public/assets/generated/logo-scales.dim_256x256.png",
          "operation": "create",
          "description": "Wire generated professional legal scales of justice icon as application logo in Layout header and favicon, using the exact workspace file path frontend/public/assets/generated/logo-scales.dim_256x256.png"
        },
        {
          "path": "frontend/public/assets/generated/document-placeholder.dim_400x300.png",
          "operation": "create",
          "description": "Wire generated modern legal document illustration into DocumentUpload component as placeholder/empty state image, using the exact workspace file path frontend/public/assets/generated/document-placeholder.dim_400x300.png"
        },
        {
          "path": "frontend/public/assets/generated/flag-tamil.dim_64x64.png",
          "operation": "create",
          "description": "Wire generated Tamil language flag icon into LanguageToggle component for Tamil language option, using the exact workspace file path frontend/public/assets/generated/flag-tamil.dim_64x64.png"
        }
      ]
    }
  ]
}